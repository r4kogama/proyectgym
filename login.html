<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="description" content="Fitness">
	 <!-- Mobile viewport -->
	<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0">
	<link rel="icon" href="img/" type="image/png" sizes="16x16">
	 <!-- CSS-->
	<link href="css/reset.css" rel="stylesheet" type="text/css">
	<!--<link href="css/fontawesome-all.css" rel="stylesheet" type="text/css" >-->
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link href="css/index.css" rel="stylesheet" type="text/css">
	<link href="css/main.css" rel="stylesheet" type="text/css">
	<!-- JS-->
	 <script src="js/slideout-1.0.1/dist/slideout.min.js" type="text/javascript"></script>
	
	<title>gym</title>
</head>
<body>
	<header>
		<nav id="menu" class="menu-oculto">
			<ul>
				<li><a href="#">Home</a></li>
				<li><a href="#">pag2</a></li>
				<li><a href="#">pag3</a></li>
				<li><a href="#">pag4</a></li>
				<li><a href="#">contact</a></li>
			</ul>
		</nav>
	</header>
    <main id="main" class="panel panel-header principal">
		<section id="header">
			<div class="box-bur w-33">
				<button class="btn-hamburger toggle-button js-slideout-toggle">☰</button>
				<h2>Menu</h2>
			</div>
			<div id="logo" class="w-33 box-logo">
				<img  class="logo" src="img/strong-logo.jpg" alt="logo">
				<h1>PRO<span>FITNESS</span></h1>
			</div>
			<div class="content-login-cesta w-33">
				<div class="box-login">
					<div id="log" class="btn-login">
						<h2><a href="#">LOGIN</a></h2>
					</div>
				</div>
				<div class="box-cesta">
					<a href="#" id="cesta" onclick="cesta(document.querySelector('.cart'))" class="btn-cesta">
						<img src="img/bag.svg" alt="cesta">
						
					</a>
					<div class="caja-display-items cart empty none" role="dialog">
							<div id="mini-content-items">
								<div class="bag-items">
									<p>
										<span class="qty-item" title="Items en la cesta" >0</span>
										<span class="text">Articulo/s en la cesta</span>
									</p>
									<p class="btn-close" title="cerrar" ><i onclick="cerrarcesta(document.querySelector('.cart'))" class="fas iclose fa-plus"></i></p>
								</div>
								<div class="info-content-items">
									<p>No tienes articulos en tu cesta de la compra.</p>
								</div>	
							</div>	
						</div>
					<h3 class="ctn-articulo">0</h3>
				</div>
			</div>
		</section>
		<section id="content-log-registro">
			<section id="clientenuevo" class="clientereg">
				<div class="text-left">
					<h2 class="f-24 newcuenta ">Nueva cuenta</h2>
					<p>Crea tu cuenta PROFITNESS con ello podrás disfrutar de nuestro catalogo de productos, apuntarte a nuestas clases, ver y rastrear tus pedidos en tu cuenta y mucho más.</p>
					<div>
						<span class="btn"><button class="btn-cuenta f-15  relleno ">Crear una cuenta</button></span>
					</div>
					<div class="contenedor-formulario">
						<form action="registro.php" method="post" id="formreg" class="formreg" onSubmit="validaSubmit(event)">
							<section class="info-personal">
								<h3>Informacion Personal</h3>
								<ul>
									<li class="in-name">
										<label for="nombre">Nombre:<span>*</span></label>
										<input type="text"  name="nom" onfocus="borrarRevision(this)"  onBlur="validarNombre(this)" id="nombre" value="" >
										<span class="errornom campo"></span>
									</li>
									<li class="in-lastname">
										<label for="apellido">Apellidos:<span>*</span></label>
										<input type="text"  name="lastname"  onBlur="validarApellido(this)" id="apellido" value="">
										<span class="errorlast campo"></span>

									</li>
									<li class="year">
										<label for="años">Edad:<span>*</span></label>
										<input type="date"  onBlur="validarEdad(this)" name="edad" id="años" >
										<span class="erroredad campo"></span>
									</li>
									<li class="sex">
										<label for="men">Hombre:</label>
										<input type="radio" name="sexo" id="men" value="H">
										<label for="woman">Mujer:</label>
										<input type="radio" name="sexo" id="woman" value="M">
									</li>
								</ul>	
							</section>
							<section class="info-credencial">
								<h3>Informacion Cuenta</h3>
								<ul>
									<li class="mail">
										<label for="email">Direccion Email:<span>*</span></label>
										<input type="text" class="inLow" onBlur="validarEmail(this)" name="mail" id="email" value="" >
										<span class="errormail campo"></span>
									</li>
									<li class="pass">
										<label for="pass">Password<span>*</span></label>
										<input type="password" name="pass" onkeyup="validarPass(this)"  id="pass" value="" >
										<span class="errorpass campo"></span>
										<span class="errorpass"></span>
										<span class="errorpass"></span>
										<span class="errorpass"></span>
									</li>
									<li class="repass">
										<label for="pass">Confirmar password:<span>*</span></label>
										<input type="password" name="repass" onBlur="repPass(this)" disabled id="repass" value="" >
										<span class="errorpass campo"></span>
									</li>
									<li>
										<input type="checkbox" onclick="comprobarCheck(this)" name="privacidad" id="privacidad" value="" />
										<p>He leido los terminos y <a href="#">condiciones</a></p>
										<span class="errorcheck campo"></span>
									</li>
								</ul>
							</section>
							<button type="submit" name="cuenta">Crear cuenta</button>
						</form>
					</div>
				</div>
			</section>
			<section id="separador" class="titulo-centro">
				<h2> 
					<p>PRO</p>	
					<p>FIT<p>
					<p>NESS</p>
				</h2>
			</section>
			<section id="cliente" class="user-log">
				<form action="login.php" method="post">
						<ul>
						<li class="mail">
								<label for="email">Direccion Email:<span>*</span></label>
								<input type="email" class="inLow" name="email" id="email-log" onBlur="validarEmail(this)" value="">
								<span class="errormail"></span></li>
						<li class="pass"><label for="pass">Password<span>*</span></label>
								<input type="password" name="plog" id="pass-log" onkeyup="validarPass(this)" value="">
								<span class="errorpass1 errorpass2"></span>
						</li>
						</ul>
						<div class="remember">
							<input type="checkbox" id="checkregistro" name="recordar" >Recuerdame
						</div>	
						<button type="submit"  name="signin">Entrar</button>
						<a href="#">Has olvidado la contraseña?</a>
				</form>
			</section>
		</section>
    </main>
	<footer id="info-foot "class="panel-footer">
		<section class="containt-footer-principal">
			<section id="content-media">
				<div class="box-logo">
					<img  class="logo" src="img/strong-logo.jpg" alt="logo">
					<h1>PRO<span>FITNESS</span></h1>
				</div>
				<ul>
					<li><a href="#"><i class="fab fa-facebook-f"></i></a></li>
					<li><a href="#"><i class="fab fa-twitter"></i></a></li>
					<li><a href="#"><i class="fab fa-youtube"></i></a></li>
					<li><a href="#"><i class="fab fa-instagram"></i></a></li>
				</ul>
			</section>
			<section id="location">
				<ul>
					<li></li>
					<li>Calle Alguna de barcelona, 63</li>
					<li>08092 Barcelona</li>
					<li>Catalunta (Espanya)</li>
					<li><a href="mailto:info@profitnes.com">info@profitnes.com</a></li>
					<li>+34534434434</li>	
				</ul>
			</section>
			<section id="dedicacion">
				<h4>Quienes somos?</h4>
				<p>Lorem ipsum dolor sit amet consectetur adipisicing elit. 
					Rerum dolorum sequi, earum ullam aspernatur 
					dolorem eaque officiis commodi consectetur sunt 
					molestiae natus expedita illo distinctio officia! 
					 id.</p>
			</section>
			<section id="menu-footer">
				<ul>
					<li><a href="#">Home </a></li>
					<li><a href="#">Productos </a></li>
					<li><a href="#">Registrar/login</a></li>
					<li><a href="#">Envios & Devoluciones</a></li>
					<li><a href="#">Contacto</a></li>
					<li><a href="#">Site Map</a></li>
				</ul>
			</section>
		</section>
		<section id="copy">
			<div>
				<p>© ProFitNes Copyright 2018. All rights reserved.
					<span>|</span>
					<a href="#">Terms of Use</a>
					<span>|</span>
					<a href="#">Privacy Policy</a>
					<span>|</span>
					<a href="#">Cookie Policy</a>
				</p>
				<p>Created by Raul</p>
			</div>
		</section>
	</footer>
	
	 <script src="js/slideout-1.0.1/slidetoogle.js" type="text/javascript"></script>
	 <script>


//cesta items

		function cesta(cart){
			cart.classList.remove("none");
			cart.classList.add("showform");
		}

		function cerrarcesta(btnclose){
			btnclose.classList.remove("showform");
			btnclose.classList.add("none");
		}

		 //boton cuenta
		  var btncuenta = document.getElementsByClassName("btn-cuenta")[0];
		  btncuenta.onclick = function() {toggleregistro()};

		  function toggleregistro(){
			document.getElementsByClassName("formreg")[0].classList.toggle("showform");
		  }
		  
		//mayusculas a minusculas
		var inputclass = document.getElementsByClassName("inLow");
		function minuscula(){
			for(var i = 0; i < inputclass.length;i++){
				inputclass[i].value = inputclass[i].value.toLowerCase();
			}
		}

		for (var i = 0; i < inputclass.length; i++) {
			inputclass[i].addEventListener('keyup', minuscula,false);
		}

		//validar nombre
		 function validarNombre(input){
			 if(input != undefined){
			   var exp =/^[a-z\d_]{4,15}$/i;
			   var msg = input.parentElement.querySelectorAll("span")[1];
				   if(input.name == "nom"){
					   if(exp.test(input.value) == false){
							msg.classList.add("invalid");
						    msg.innerHTML = "Minimo 3 letras";
					   }else{
							msg.style.display = "none";
							msg.innerHTML = "";
					   }
				   }
			   }		
	   }
	   //validar apellido
	   function validarApellido(input)	{
		   if(input != undefined){
			   var exp =/^[a-z\d_]{6,49}$/i;
			   var msg = input.parentElement.querySelectorAll("span")[1];
			   if(input.name == "lastname"){
				   if(exp.test(input.value) == false){
						msg.classList.add("invalid");
					    msg.innerHTML = "Escribe el apellido completo";
				   }else{
						msg.style.display = "none";
					    msg.innerHTML = "";
				   }
			   }
		   }
	   }
		 
	   //validar edad
	   function validarEdad(input){		
			   if(input != undefined){
				   var msg = input.parentElement.querySelectorAll("span")[1];
				   if(input.name == "edad"){
					   if(input.value == ""){
							msg.classList.add("invalid");
							msg.innerHTML = "Indica tu edad";
					   }else{
							msg.style.display = "none";
							msg.innerHTML = "";
					   }
				   }
			   }
	   }

		//validar check
	   function comprobarCheck(input) {
			var msg =  input.parentElement.querySelector("span");
				if(input.checked == true){
					msg.style.display = "none";
					msg.innerHTML = "";
				}else{
					msg.classList.add("invalid");
					msg.innerHTML = "Acepta las condiciones para continuar";
				}
		}	

	   //validar email
	   function validarEmail(input){
		   var expr = /^[_a-z0-9-]+(\.[_a-z0-9-]+)*@[a-z0-9-]+(\.[a-z0-9-]+)*(\.[a-z]{2,3})$/;
		   var msg = input.parentElement.querySelectorAll("span")[1]; 
		   if(input.name == "mail"){
			   if(expr.test(input.value) ==  false){
					msg.classList.add("invalid");
				    msg.innerHTML = "El email no es valido";
				   //se ha introducido mal el mail
			   }else{
					msg.style.display = "none";
				    msg.innerHTML ="";
			   }
		   }
		   //es correcto
		   return true;
	   }

	   //validar pass
	   var  enablepass = document.getElementById("repass");
	   var inputpass = document.getElementById("pass");
	   inputpass.onblur = function() {
		   console.log('onblur');
		   var exp = /(?=^.{6,}$)((?=.*\d)|(?=.*\W+))(?![.\n])(?=.*[A-Z])(?=.*[a-z]).*$/;
		   var msg = inputpass.parentElement.querySelectorAll("span")[1];
			   if(exp.test(inputpass.value) ==  false){
					msg.classList.add("invalid");
				    msg.innerHTML = "Password invalido";
				   //se ha introducido mal el pass
			   }else{
					msg.classList.add("valid");
				    msg.innerHTML ="Valido";
				    enablepass.disabled= false;	
					return inputpass.value;
			   }
	   }

	   //repetir password
	   function repPass(passrep){
		   var pasvalid = inputpass.onblur();//contraseña usuario
		   var msg = passrep.parentElement.querySelectorAll("span")[1];
		   if(pasvalid === passrep.value){
				msg.classList.add("valid");
				msg.innerHTML = "Coincide";
		   }else{
				msg.classList.add("invalid");
				msg.innerHTML = "Password no coincide";
		   }
	   }


	   //caracteristicas del password
	   function validarPass(input){
		   var msgmin = input.parentElement.querySelectorAll("span")[1]; 
		   var msgmay = input.parentElement.querySelectorAll("span")[2];
		   var msgnum = input.parentElement.querySelectorAll("span")[3];
		   var msglett = input.parentElement.querySelectorAll("span")[4];
			   // validad minuscula
			   debugger;

			   var lowLetter = /[a-z]/;
			   if(lowLetter.test(input.value)){
					msgmin.innerHTML = "";
			   }else{
					msg.classList.add("invalid");
					msgmin.innerHTML = "Incluye minusculas";

			   }
			   // validad mayuscula
			   var upperLetter = /[A-Z]/;
			   if(upperLetter.test(input.value)){
					msgmay.innerHTML = "";
			   }else{
					msg.classList.add("invalid");
					msgmay.innerHTML = "Incluye  mayusculas";
			   }
			   //validar numero
			var number = /[0-9]\d/;
			   console.log(number.test(input.value));
			   if(number.test(input.value) == true){
				
					msgnum.innerHTML = "";
			   }else{
					msg.classList.add("invalid");
					msgnum.innerHTML = "Minimo 2 numeros";
			   }
			   // validar longitud
			   if(input.value.length >= 6 && input.value.length <= 15) {
					msglett.innerHTML = "";
			   }else{
					msg.classList.add("invalid");
					msglett.innerHTML = "Entre 6 y 15 caracteres";
			   }
	
	   	}
		 

		   
		   //borrar error  preventdefault
			   function borrarRevision(input){
					var msg = input.parentElement.querySelectorAll("span")[1];
					msg.innerHTML = "";
			   }


			 //funcion validar  campos del formulario
		   	function validaSubmit(ev) {
				var expemail = /^[_a-z0-9-]+(\.[_a-z0-9-]+)*@[a-z0-9-]+(\.[a-z0-9-]+)*(\.[a-z]{2,3})$/;
				var exppass = /(?=^.{6,15}$)((?=.*\d)|(?=.*\W+))(?![.\n])(?=.*[A-Z])(?=.*[a-z]).*$/;
				var pass = document.getElementById("pass");
				var repas = document.getElementById("repass");
				var mail = document.getElementById("email");
				var name = document.getElementById("nombre");
				var edad = document.getElementById("años");
				var check = document.getElementById("privacidad");
				var lastname = document.getElementById("apellido");
				var err = document.querySelectorAll(".campo");


			
				for(var i = 0; i < err.length; i++){
				if(mail.value.length == 0 || !expemail.test(mail.value) ){ //si esta vacio y no es una expr regular
					err[i].classList.add("invalid");
					err[i].innerHTML ="Revisa campo email para continuar.";
					ev.preventDefault(); // desabilita el submit y no envia el formulario
				}else if(pass.value.length == 0 || !exppass.test(pass.value) ){ //si esta vacio y no es una expr regular
					err[i].classList.add("invalid");
					err[i].innerHTML = "Revisa campo password para continuar.";
					ev.preventDefault(); // desabilita el submit y no envia el formulario
				}else if(repas.value.length == 0 || !exppass.test(repas.value)){
					err.classList.add("invalid");
					err[i].innerHTML = "Revisa repeticion de password para continuar.";
					ev.preventDefault(); // desabilita el submit y no envia el formulario
				}else if(name.value.length == 0 || name.value.length  < 3 || name.value.length > 15 ){
					err.classList.add("invalid");
					err[i].innerHTML = "Revisa campo nombre 16 caracteres max.";
					ev.preventDefault();
				}else if(lastname.value.length == 0 || lastname.value.length < 5 ||  lastname.value.length > 50 ){
					err.classList.add("invalid");
					err[i].innerHTML = "Revisa campo apellido 50 caracteres max.";
					ev.preventDefault();
				}else if(edad.value == ""){
					err.classList.add("invalid");
					err[i].innerHTML = "Revisa campo edad para continuar.";
					ev.preventDefault();
				}else if(check.checked == false){
					err.classList.add("invalid");
					err[i].innerHTML = "Acepta los terminos y condiciones.";
					ev.preventDefault();
				}
				}	
			}   
</script>
</body>
</html>


